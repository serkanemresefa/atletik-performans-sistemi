<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atletik Performans Takip Sistemi</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/app.css') }}">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Atletik Performans Takip Sistemi</h1>
            <div style="display: flex; justify-content: flex-end; align-items: center; gap: 15px;">
                <span id="user-info" style="color: #495057; font-weight: 500;"></span>
                <button onclick="logout()" class="btn btn-danger">Çıkış</button>
            </div>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('user-profile')">Profil</button>
            <button class="nav-tab" onclick="showTab('team-management')">Takım Yönetimi</button>
            <button class="nav-tab" onclick="showTab('players')">Antrenman Yönetimi</button>
            <button class="nav-tab" onclick="showTab('analysis')">Analiz</button>
        </div>

        <!-- User Profile Tab -->
        <div id="user-profile" class="tab-content active">
            <h2 style="text-align: center; margin-bottom: 40px;">Hoşgeldiniz! <span id="welcome-username">-</span></h2>
            <div id="profile-alert"></div>
            
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-number" id="user-teams">-</div><div>Toplam Takım</div></div>
                <div class="stat-card"><div class="stat-number" id="user-players">-</div><div>Toplam Oyuncu</div></div>
                <div class="stat-card"><div class="stat-number" id="user-activities">-</div><div>Toplam Aktivite</div></div>
                <div class="stat-card"><div class="stat-number" id="user-since">-</div><div>Hesap Yaşı (gün)</div></div>
            </div>

            <div class="form-row" style="margin-top: 40px;">
                <div style="flex: 1; margin-right: 20px;">
                    <div class="table-container">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3>Profil Bilgileri</h3>
                            <button class="btn btn-sm" onclick="toggleProfileEdit()" id="profile-edit-toggle">Düzenle</button>
                        </div>
                        <div class="form-group">
                            <label>Kullanıcı Adı</label>
                            <div class="profile-info">
                                <span id="profile-username-display">-</span>
                                <input type="text" id="profile-username-edit" class="form-control" style="display: none;">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <div class="profile-info">
                                <span id="profile-email-display">-</span>
                                <input type="email" id="profile-email-edit" class="form-control" style="display: none;">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Hesap Oluşturma Tarihi</label>
                            <span id="profile-created-date">-</span>
                        </div>
                        <div id="profile-edit-buttons" style="display: none; margin-top: 20px;">
                            <button class="btn btn-success" onclick="saveProfile()">Kaydet</button>
                            <button class="btn" onclick="cancelProfileEdit()" style="margin-left: 10px;">İptal</button>
                        </div>
                    </div>
                </div>
                
                <div style="flex: 1;">
                    <div class="table-container">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3>Güvenlik</h3>
                            <button class="btn btn-sm" onclick="togglePasswordEdit()" id="password-edit-toggle">Şifre Değiştir</button>
                        </div>
                        <div class="form-group">
                            <label>Son Şifre Değiştirme</label>
                            <span>Henüz değiştirilmemiş</span>
                        </div>
                        <div id="password-edit-form" style="display: none;">
                            <div class="form-group">
                                <label for="current-password">Mevcut Şifre</label>
                                <input type="password" id="current-password" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="new-password">Yeni Şifre (en az 6 karakter)</label>
                                <input type="password" id="new-password" class="form-control" required minlength="6">
                            </div>
                            <div class="form-group">
                                <label for="confirm-password">Yeni Şifre Tekrar</label>
                                <input type="password" id="confirm-password" class="form-control" required minlength="6">
                            </div>
                            <div style="margin-top: 20px;">
                                <button class="btn btn-success" onclick="savePassword()">Şifre Değiştir</button>
                                <button class="btn" onclick="cancelPasswordEdit()" style="margin-left: 10px;">İptal</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Players Tab -->
        <div id="players" class="tab-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2>Antrenman Yönetimi</h2>
                <div class="team-selector-container">
                    <label for="player-team-select" style="font-weight: 500;">Takım Seç:</label>
                    <select id="player-team-select" class="form-control" onchange="handlePlayerTeamChange()" style="min-width: 200px; margin-left: 10px;"></select>
                </div>
            </div>
            <div id="player-alert"></div>
            
            <!-- Add Player Button (shown only when team is selected) -->
            <div id="add-player-section" style="display: none; margin-bottom: 20px;">
                <button class="btn btn-success" onclick="openPlayerModal()" style="margin-right: 10px;">➕ Yeni Oyuncu Ekle</button>
                <span style="color: #666; font-size: 14px;">Seçili takıma yeni oyuncu ekleyebilirsiniz</span>
            </div>
            
            <div class="table-container">
                <h3>Mevcut Oyuncular</h3>
                <table class="table"><thead><tr><th>Oyuncu Adı</th><th>Pozisyon</th><th>Kayıt Tarihi</th><th>Aksiyonlar</th></tr></thead><tbody id="players-table"></tbody></table>
            </div>
        </div>


        <!-- Analysis Tab -->
        <div id="analysis" class="tab-content">
            <h2>Performans Analizi</h2>
            <div id="analysis-alert"></div>
            <div class="form-row">
                <div class="form-group"><label for="analysis-players">Oyuncular (Ctrl+Click çoklu seçim)</label><select id="analysis-players" class="form-control" multiple size="5"></select></div>
                <div class="form-group"><label for="start-date">Başlangıç Tarihi</label><input type="date" id="start-date" class="form-control"></div>
                <div class="form-group"><label for="end-date">Bitiş Tarihi</label><input type="date" id="end-date" class="form-control"></div>
            </div>
            <div style="text-align: center; margin: 20px 0;">
                <button onclick="runAnalysis()" class="btn" style="margin-right: 10px;">Antrenman vs Maç Analizi</button>
                <button onclick="runMatchPeriodsAnalysis()" class="btn" style="background: #28a745;">Devre Analizi (1. / 2. Devre)</button>
            </div>
            
            <div id="analysis-results" style="display: none;">
                <div class="chart-container"><canvas id="analysis-chart"></canvas></div>
                <div class="table-container"><h3>Detaylı Sonuçlar</h3><table class="table"><thead><tr><th>Oyuncu</th><th>Ant. Ort.</th><th>Maç Ort.</th><th>Mesafe %</th><th>HS16 %</th><th>HS20 %</th><th>Sprint %</th></tr></thead><tbody id="analysis-table"></tbody></table></div>
            </div>
            
            <div id="match-periods-results" style="display: none;">
                <div class="chart-container"><canvas id="match-periods-chart"></canvas></div>
                <div class="table-container">
                    <h3>Devre Analizi Sonuçları</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Oyuncu</th>
                                <th>1. Devre Mesafe</th>
                                <th>2. Devre Mesafe</th>
                                <th>1. Devre Max Hız</th>
                                <th>2. Devre Max Hız</th>
                                <th>1. Devre Sprint</th>
                                <th>2. Devre Sprint</th>
                                <th>Toplam</th>
                            </tr>
                        </thead>
                        <tbody id="match-periods-table"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Team Management Tab -->
        <div id="team-management" class="tab-content">
            <h2>Takım & Oyuncu Yönetimi</h2>
            <div id="team-alert"></div>
            
            <!-- Step 1: Current Teams -->
            <div class="table-container">
                <h3>1️⃣ Mevcut Takımlarınız</h3>
                <table class="table"><thead><tr><th>Takım Adı</th><th>Lig</th><th>Sezon</th><th>Antrenör</th><th>Oyuncu Sayısı</th><th>Aksiyonlar</th></tr></thead><tbody id="teams-table"></tbody></table>
            </div>
            
            <!-- Step 2: Team Management -->
            <div class="table-container" style="margin-top: 30px;">
                <h3>2️⃣ Takım Yönetimi</h3>
                <form id="team-form">
                    <div class="form-row">
                        <div class="form-group"><label for="team-name">Takım Adı *</label><input type="text" id="team-name" class="form-control" required placeholder="örn: U17 Milli Takım"></div>
                        <div class="form-group"><label for="team-league">Lig</label><input type="text" id="team-league" class="form-control" placeholder="örn: Süper Lig"></div>
                        <div class="form-group"><label for="team-season">Sezon</label><input type="text" id="team-season" class="form-control" placeholder="örn: 2024-2025"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label for="team-coach">Antrenör Adı</label><input type="text" id="team-coach" class="form-control" placeholder="örn: Ahmet Yılmaz"></div>
                        <div class="form-group"><label for="team-description">Açıklama</label><textarea id="team-description" class="form-control" rows="2" placeholder="Takım hakkında notlar..."></textarea></div>
                    </div>
                    <button type="submit" class="btn">Takım Oluştur</button>
                </form>
            </div>
            
        </div>
        
        <!-- Player Detail Modal -->
        <div id="player-modal" class="modal">
            <div class="modal-content" style="max-width: 900px;">
                <div class="modal-header">
                    <h3 id="player-modal-title">Yeni Oyuncu Ekle</h3>
                    <span class="close" onclick="closePlayerModal()">&times;</span>
                </div>
                <div class="modal-body">
                    <form id="player-detail-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="player-first-name">Ad *</label>
                                <input type="text" id="player-first-name" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="player-last-name">Soyad *</label>
                                <input type="text" id="player-last-name" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="player-birth-date">Doğum Tarihi</label>
                                <input type="date" id="player-birth-date" class="form-control">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="player-nationality">Uyruk</label>
                                <input type="text" id="player-nationality" class="form-control" placeholder="Türkiye">
                            </div>
                            <div class="form-group">
                                <label for="player-primary-position">Ana Pozisyon</label>
                                <select id="player-primary-position" class="form-control">
                                    <option value="">Seçiniz</option>
                                    <option value="GK">Kaleci (GK)</option>
                                    <option value="CB">Stoper (CB)</option>
                                    <option value="LB">Sol Bek (LB)</option>
                                    <option value="RB">Sağ Bek (RB)</option>
                                    <option value="CDM">Defansif Orta Saha (CDM)</option>
                                    <option value="CM">Orta Saha (CM)</option>
                                    <option value="CAM">Ofansif Orta Saha (CAM)</option>
                                    <option value="LM">Sol Orta Saha (LM)</option>
                                    <option value="RM">Sağ Orta Saha (RM)</option>
                                    <option value="LW">Sol Kanat (LW)</option>
                                    <option value="RW">Sağ Kanat (RW)</option>
                                    <option value="ST">Santrafor (ST)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="player-secondary-positions">Alt Pozisyonlar</label>
                                <input type="text" id="player-secondary-positions" class="form-control" placeholder="CM,CAM">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="player-preferred-foot">Tercih Ettiği Ayak</label>
                                <select id="player-preferred-foot" class="form-control">
                                    <option value="">Seçiniz</option>
                                    <option value="Sağ">Sağ</option>
                                    <option value="Sol">Sol</option>
                                    <option value="Her ikisi">Her ikisi</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="player-jersey-number">Forma Numarası</label>
                                <input type="number" id="player-jersey-number" class="form-control" min="1" max="99">
                            </div>
                            <div class="form-group">
                                <label for="player-height">Boy (cm)</label>
                                <input type="number" id="player-height" class="form-control" min="140" max="220">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="player-weight">Kilo (kg)</label>
                                <input type="number" id="player-weight" class="form-control" min="35" max="150" step="0.1">
                            </div>
                            <div class="form-group">
                                <label for="player-previous-club">Geldiği Takım</label>
                                <input type="text" id="player-previous-club" class="form-control" placeholder="Fenerbahçe U19">
                            </div>
                            <div class="form-group">
                                <label for="player-blood-type">Kan Grubu</label>
                                <select id="player-blood-type" class="form-control">
                                    <option value="">Seçiniz</option>
                                    <option value="A+">A+</option>
                                    <option value="A-">A-</option>
                                    <option value="B+">B+</option>
                                    <option value="B-">B-</option>
                                    <option value="AB+">AB+</option>
                                    <option value="AB-">AB-</option>
                                    <option value="O+">O+</option>
                                    <option value="O-">O-</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="player-phone">Telefon</label>
                                <input type="tel" id="player-phone" class="form-control" placeholder="0555-123-4567">
                            </div>
                            <div class="form-group">
                                <label for="player-email">Email</label>
                                <input type="email" id="player-email" class="form-control" placeholder="oyuncu@email.com">
                            </div>
                            <div class="form-group">
                                <label for="player-emergency-contact">Acil Durum Kişisi</label>
                                <input type="text" id="player-emergency-contact" class="form-control" placeholder="Anne: 0555-987-6543">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="player-notes">Notlar</label>
                            <textarea id="player-notes" class="form-control" rows="3" placeholder="Oyuncu hakkında notlar..."></textarea>
                        </div>
                        
                        <div id="player-modal-alert"></div>
                        <button type="submit" class="btn btn-success">Kaydet</button>
                        <button type="button" class="btn" onclick="closePlayerModal()" style="margin-left: 10px;">İptal</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Data Entry Modal -->
    <div id="data-entry-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-player-name">Veri Girişi</h3>
                <span class="close" onclick="closeDataEntryModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="modal-activity-form">
                    <input type="hidden" id="modal-player-id">
                    <div class="form-row">
                        <div class="form-group"><label for="modal-activity-date">Tarih</label><input type="date" id="modal-activity-date" class="form-control" required></div>
                        <div class="form-group"><label for="modal-activity-type">Aktivite Türü</label><select id="modal-activity-type" class="form-control" required><option value="">Seçin...</option><option value="training">Antrenman</option><option value="match">Maç</option></select></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label for="modal-duration">Süre (dk)</label><input type="number" id="modal-duration" class="form-control" min="0" step="1"></div>
                        <div class="form-group"><label for="modal-distance">Toplam Mesafe (m)</label><input type="number" id="modal-distance" class="form-control" min="0" step="1"></div>
                        <div class="form-group"><label for="modal-hs16">16+ km/h Mesafe (m)</label><input type="number" id="modal-hs16" class="form-control" min="0" step="1"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label for="modal-hs18">18+ km/h Mesafe (m)</label><input type="number" id="modal-hs18" class="form-control" min="0" step="1"></div>
                        <div class="form-group"><label for="modal-hs20">20+ km/h Mesafe (m)</label><input type="number" id="modal-hs20" class="form-control" min="0" step="1"></div>
                        <div class="form-group"><label for="modal-sprint">24+ km/h Sprint Mesafe (m)</label><input type="number" id="modal-sprint" class="form-control" min="0" step="1"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label for="modal-acc">AccDecc Sayısı</label><input type="number" id="modal-acc" class="form-control" min="0" step="1"></div>
                        <div class="form-group"><label for="modal-high_acc">Yüksek AccDecc Sayısı</label><input type="number" id="modal-high_acc" class="form-control" min="0" step="1"></div>
                        <div class="form-group"><label for="modal-metabolic">Metabolik Güç Mesafesi (m)</label><input type="number" id="modal-metabolic" class="form-control" min="0" step="1"></div>
                    </div>
                    <div class="form-group"><label for="modal-notes">Notlar</label><textarea id="modal-notes" class="form-control" rows="2"></textarea></div>
                    <div id="modal-alert"></div>
                    <button type="submit" class="btn btn-success">Kaydet</button>
                    <button type="button" class="btn" onclick="closeDataEntryModal()" style="margin-left: 10px;">İptal</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Player Detail Modal -->
    <div id="player-detail-modal" class="modal">
        <div class="modal-content" style="max-width: 1200px; max-height: 90vh; overflow-y: auto;">
            <div class="modal-header">
                <h3 id="player-detail-title">Oyuncu Detayları</h3>
                <span class="close" onclick="closePlayerDetailModal()">&times;</span>
            </div>
            <div class="modal-body">
                <!-- Player Summary Card -->
                <div class="player-summary-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                    <div style="display: flex; align-items: center; gap: 20px;">
                        <div class="player-avatar" style="width: 80px; height: 80px; border-radius: 50%; background: rgba(255,255,255,0.2); display: flex; align-items: center; justify-content: center; font-size: 24px;">
                            👤
                        </div>
                        <div style="flex: 1;">
                            <h2 id="detail-player-name" style="margin: 0; color: white;">-</h2>
                            <div style="display: flex; gap: 20px; margin-top: 10px;">
                                <span><strong>Pozisyon:</strong> <span id="detail-position">-</span></span>
                                <span><strong>Yaş:</strong> <span id="detail-age">-</span></span>
                                <span><strong>Forma:</strong> #<span id="detail-jersey">-</span></span>
                                <span><strong>Boy:</strong> <span id="detail-height">-</span>cm</span>
                                <span><strong>Kilo:</strong> <span id="detail-weight">-</span>kg</span>
                            </div>
                        </div>
                        <div style="text-align: center;">
                            <button class="btn" onclick="togglePlayerEdit()" id="edit-toggle-btn" style="background: rgba(255,255,255,0.2); color: white; margin-bottom: 10px;">Düzenle</button>
                            <div style="font-size: 12px; opacity: 0.8;">Son güncelleme<br><span id="detail-updated">-</span></div>
                        </div>
                    </div>
                </div>

                <!-- Tabs -->
                <div class="detail-tabs" style="display: flex; margin-bottom: 20px; border-bottom: 2px solid #eee;">
                    <button class="detail-tab active" onclick="showDetailTab('personal')" id="tab-personal">Kişisel Bilgiler</button>
                    <button class="detail-tab" onclick="showDetailTab('performance')" id="tab-performance">Performans Geçmişi</button>
                    <button class="detail-tab" onclick="showDetailTab('stats')" id="tab-stats">İstatistikler</button>
                    <button class="detail-tab" onclick="showDetailTab('data-entry')" id="tab-data-entry">Veri Girişi</button>
                </div>

                <!-- Tab Contents -->
                <div id="detail-content-personal" class="detail-tab-content active">
                    <div class="detail-section">
                        <h4>Temel Bilgiler</h4>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <label>Ad:</label>
                                <span id="view-first-name" class="view-mode">-</span>
                                <input type="text" id="edit-first-name" class="edit-mode form-control" style="display: none;">
                            </div>
                            <div class="detail-item">
                                <label>Soyad:</label>
                                <span id="view-last-name" class="view-mode">-</span>
                                <input type="text" id="edit-last-name" class="edit-mode form-control" style="display: none;">
                            </div>
                            <div class="detail-item">
                                <label>Doğum Tarihi:</label>
                                <span id="view-birth-date" class="view-mode">-</span>
                                <input type="date" id="edit-birth-date" class="edit-mode form-control" style="display: none;">
                            </div>
                            <div class="detail-item">
                                <label>Uyruk:</label>
                                <span id="view-nationality" class="view-mode">-</span>
                                <input type="text" id="edit-nationality" class="edit-mode form-control" style="display: none;">
                            </div>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4>Pozisyon & Oyun</h4>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <label>Ana Pozisyon:</label>
                                <span id="view-primary-position" class="view-mode">-</span>
                                <select id="edit-primary-position" class="edit-mode form-control" style="display: none;">
                                    <option value="GK">Kaleci (GK)</option>
                                    <option value="CB">Stoper (CB)</option>
                                    <option value="LB">Sol Bek (LB)</option>
                                    <option value="RB">Sağ Bek (RB)</option>
                                    <option value="CDM">Defansif Orta Saha (CDM)</option>
                                    <option value="CM">Orta Saha (CM)</option>
                                    <option value="CAM">Ofansif Orta Saha (CAM)</option>
                                    <option value="LM">Sol Orta Saha (LM)</option>
                                    <option value="RM">Sağ Orta Saha (RM)</option>
                                    <option value="LW">Sol Kanat (LW)</option>
                                    <option value="RW">Sağ Kanat (RW)</option>
                                    <option value="ST">Santrafor (ST)</option>
                                </select>
                            </div>
                            <div class="detail-item">
                                <label>Yan Pozisyonlar:</label>
                                <span id="view-secondary-positions" class="view-mode">-</span>
                                <input type="text" id="edit-secondary-positions" class="edit-mode form-control" style="display: none;" placeholder="örn: RW,CAM">
                            </div>
                            <div class="detail-item">
                                <label>Tercih Edilen Ayak:</label>
                                <span id="view-preferred-foot" class="view-mode">-</span>
                                <select id="edit-preferred-foot" class="edit-mode form-control" style="display: none;">
                                    <option value="Sağ">Sağ</option>
                                    <option value="Sol">Sol</option>
                                    <option value="Her ikisi">Her ikisi</option>
                                </select>
                            </div>
                            <div class="detail-item">
                                <label>Forma Numarası:</label>
                                <span id="view-jersey-number" class="view-mode">-</span>
                                <input type="number" id="edit-jersey-number" class="edit-mode form-control" style="display: none;" min="1" max="99">
                            </div>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4>Fiziksel Özellikler & Sağlık</h4>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <label>Boy (cm):</label>
                                <span id="view-height-cm" class="view-mode">-</span>
                                <input type="number" id="edit-height-cm" class="edit-mode form-control" style="display: none;" min="150" max="220">
                            </div>
                            <div class="detail-item">
                                <label>Güncel Kilo (kg):</label>
                                <span id="view-weight-kg" class="view-mode">-</span>
                                <div class="edit-mode" style="display: none;">
                                    <button type="button" class="btn btn-sm" onclick="showWeightHistoryModal()" style="background: #28a745; color: white; margin-top: 5px;">
                                        Kilo Geçmişi
                                    </button>
                                </div>
                            </div>
                            <div class="detail-item">
                                <label>Kan Grubu:</label>
                                <span id="view-blood-type" class="view-mode">-</span>
                                <select id="edit-blood-type" class="edit-mode form-control" style="display: none;">
                                    <option value="">Bilinmiyor</option>
                                    <option value="A+">A+</option>
                                    <option value="A-">A-</option>
                                    <option value="B+">B+</option>
                                    <option value="B-">B-</option>
                                    <option value="AB+">AB+</option>
                                    <option value="AB-">AB-</option>
                                    <option value="O+">O+</option>
                                    <option value="O-">O-</option>
                                </select>
                            </div>
                            <div class="detail-item">
                                <label>Mevcut Sağlık Durumu:</label>
                                <span id="view-current-injury-status" class="view-mode">-</span>
                                <input type="text" id="edit-current-injury-status" class="edit-mode form-control" style="display: none;" placeholder="Sağlam, Sakatlık var, vb.">
                            </div>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4>İletişim</h4>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <label>Telefon:</label>
                                <span id="view-phone" class="view-mode">-</span>
                                <input type="tel" id="edit-phone" class="edit-mode form-control" style="display: none;">
                            </div>
                            <div class="detail-item">
                                <label>Email:</label>
                                <span id="view-email" class="view-mode">-</span>
                                <input type="email" id="edit-email" class="edit-mode form-control" style="display: none;">
                            </div>
                            <div class="detail-item">
                                <label>Acil Durum Kişisi:</label>
                                <span id="view-emergency-contact" class="view-mode">-</span>
                                <input type="text" id="edit-emergency-contact" class="edit-mode form-control" style="display: none;">
                            </div>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4>Kulüp Geçmişi</h4>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <label>Önceki Kulüp:</label>
                                <span id="view-previous-club" class="view-mode">-</span>
                                <input type="text" id="edit-previous-club" class="edit-mode form-control" style="display: none;">
                            </div>
                            <div class="detail-item">
                                <label>Sözleşme Başlangıç:</label>
                                <span id="view-contract-start" class="view-mode">-</span>
                                <input type="date" id="edit-contract-start" class="edit-mode form-control" style="display: none;">
                            </div>
                            <div class="detail-item">
                                <label>Sözleşme Bitiş:</label>
                                <span id="view-contract-end" class="view-mode">-</span>
                                <input type="date" id="edit-contract-end" class="edit-mode form-control" style="display: none;">
                            </div>
                        </div>
                        <div class="detail-full-width">
                            <label>Kulüp Geçmişi:</label>
                            <div id="view-club-history" class="view-mode" style="margin-top: 5px;">-</div>
                            <textarea id="edit-club-history" class="edit-mode form-control" style="display: none;" rows="3"></textarea>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4>Sakatlık Geçmişi & Notlar</h4>
                        <div class="detail-full-width">
                            <label>Sakatlık Durumu:</label>
                            <div id="view-injury-status" class="view-mode" style="margin-top: 5px;">Aktif sakatlık bulunmuyor</div>
                            <div class="edit-mode" style="display: none;">
                                <button type="button" class="btn btn-sm" onclick="showInjuryHistoryModal()" style="background: #dc3545; color: white; margin-top: 5px;">
                                    Sakatlık Geçmişi
                                </button>
                            </div>
                        </div>
                        <div class="detail-full-width">
                            <label>Notlar:</label>
                            <div id="view-notes" class="view-mode" style="margin-top: 5px;">-</div>
                            <textarea id="edit-notes" class="edit-mode form-control" style="display: none;" rows="3"></textarea>
                        </div>
                    </div>

                    <!-- Edit Mode Buttons -->
                    <div class="edit-mode" style="display: none; margin-top: 30px; text-align: center;">
                        <button class="btn btn-success" onclick="savePlayerDetails()" style="margin-right: 10px;">Kaydet</button>
                        <button class="btn" onclick="cancelPlayerEdit()">İptal</button>
                    </div>
                </div>

                <div id="detail-content-performance" class="detail-tab-content" style="display: none;">
                    <div class="detail-section">
                        <h4>Son Aktiviteler</h4>
                        <div id="player-activities-list">
                            <div class="loading">Aktiviteler yükleniyor...</div>
                        </div>
                    </div>
                </div>

                <div id="detail-content-stats" class="detail-tab-content" style="display: none;">
                    <div class="detail-section">
                        <h4>Performans İstatistikleri</h4>
                        <div id="player-stats-summary">
                            <div class="loading">İstatistikler yükleniyor...</div>
                        </div>
                    </div>
                </div>
                <div id="detail-content-data-entry" class="detail-tab-content" style="display: none;">
                    <div class="detail-section">
                        <h4>Antrenman/Maç Verisi Ekle</h4>
                        <form id="player-detail-activity-form">
                            <div id="player-detail-modal-alert" class="alert" style="display: none;"></div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="player-detail-activity-date">Tarih</label>
                                    <input type="date" id="player-detail-activity-date" class="form-control" required>
                                </div>
                                <div class="form-group">
                                    <label for="player-detail-activity-time">Saat</label>
                                    <input type="time" id="player-detail-activity-time" class="form-control" placeholder="Opsiyonel">
                                </div>
                                <div class="form-group">
                                    <label for="player-detail-activity-type">Aktivite Türü</label>
                                    <select id="player-detail-activity-type" class="form-control" required onchange="toggleMatchPeriods()">
                                        <option value="">Seçin...</option>
                                        <option value="training">Antrenman</option>
                                        <option value="match">Maç</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- Match Periods Section (Hidden by default) -->
                            <div id="match-periods-section" style="display: none; margin-top: 20px; border-top: 1px solid #eee; padding-top: 15px;">
                                <h5 style="margin-bottom: 15px; color: #2c3e50;">Devre Bilgileri</h5>
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" id="enable-periods" onchange="togglePeriodInputs()"> 
                                        Devre verilerini ayrı gir (1. Devre / 2. Devre)
                                    </label>
                                </div>
                                
                                <div id="period-inputs" style="display: none; margin-top: 15px;">
                                    <!-- 1st Half -->
                                    <div class="period-section" style="margin-bottom: 25px; padding: 15px; border: 1px solid #ddd; border-radius: 8px;">
                                        <h6 style="color: #28a745; margin-bottom: 10px;">1. Devre (0-45 dk)</h6>
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Süre (dk)</label>
                                                <input type="number" id="period-1-duration" class="form-control" min="0" step="1" value="45">
                                            </div>
                                            <div class="form-group">
                                                <label>Toplam Mesafe (m)</label>
                                                <input type="number" id="period-1-distance" class="form-control" min="0" step="1">
                                            </div>
                                            <div class="form-group">
                                                <label>Yüksek Hız 16+ km/h (m)</label>
                                                <input type="number" id="period-1-high-speed-16" class="form-control" min="0" step="1">
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Yüksek Hız 18+ km/h (m)</label>
                                                <input type="number" id="period-1-high-speed-18" class="form-control" min="0" step="1">
                                            </div>
                                            <div class="form-group">
                                                <label>Yüksek Hız 20+ km/h (m)</label>
                                                <input type="number" id="period-1-high-speed-20" class="form-control" min="0" step="1">
                                            </div>
                                            <div class="form-group">
                                                <label>Sprint 24+ km/h (m)</label>
                                                <input type="number" id="period-1-sprint-24" class="form-control" min="0" step="1">
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>İvme/Yavaşlama Sayısı</label>
                                                <input type="number" id="period-1-acc-decc" class="form-control" min="0" step="1">
                                            </div>
                                            <div class="form-group">
                                                <label>Yüksek İvme/Yavaşlama Sayısı</label>
                                                <input type="number" id="period-1-high-acc-decc" class="form-control" min="0" step="1">
                                            </div>
                                            <div class="form-group">
                                                <label>Yüksek Metabolik Güç (m)</label>
                                                <input type="number" id="period-1-metabolic-power" class="form-control" min="0" step="1">
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Max Sürat (km/h)</label>
                                                <input type="number" id="period-1-max-speed" class="form-control" min="0" step="0.1">
                                            </div>
                                            <div class="form-group">
                                                <label>Sprint 16+ Sayısı</label>
                                                <input type="number" id="period-1-sprint-16" class="form-control" min="0" step="1">
                                            </div>
                                            <div class="form-group">
                                                <label>Sprint 18+ Sayısı</label>
                                                <input type="number" id="period-1-sprint-18" class="form-control" min="0" step="1">
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Sprint 20+ Sayısı</label>
                                                <input type="number" id="period-1-sprint-20" class="form-control" min="0" step="1">
                                            </div>
                                            <div class="form-group">
                                                <label>Sprint 24+ Sayısı</label>
                                                <input type="number" id="period-1-sprint-24-count" class="form-control" min="0" step="1">
                                            </div>
                                            <div class="form-group">
                                                <label>Notlar</label>
                                                <textarea id="period-1-notes" class="form-control" rows="2"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 2nd Half -->
                                    <div class="period-section" style="margin-bottom: 15px; padding: 15px; border: 1px solid #ddd; border-radius: 8px;">
                                        <h6 style="color: #dc3545; margin-bottom: 10px;">2. Devre (45-90 dk)</h6>
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Süre (dk)</label>
                                                <input type="number" id="period-2-duration" class="form-control" min="0" step="1" value="45">
                                            </div>
                                            <div class="form-group">
                                                <label>Toplam Mesafe (m)</label>
                                                <input type="number" id="period-2-distance" class="form-control" min="0" step="1">
                                            </div>
                                            <div class="form-group">
                                                <label>Yüksek Hız 16+ km/h (m)</label>
                                                <input type="number" id="period-2-high-speed-16" class="form-control" min="0" step="1">
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Yüksek Hız 18+ km/h (m)</label>
                                                <input type="number" id="period-2-high-speed-18" class="form-control" min="0" step="1">
                                            </div>
                                            <div class="form-group">
                                                <label>Yüksek Hız 20+ km/h (m)</label>
                                                <input type="number" id="period-2-high-speed-20" class="form-control" min="0" step="1">
                                            </div>
                                            <div class="form-group">
                                                <label>Sprint 24+ km/h (m)</label>
                                                <input type="number" id="period-2-sprint-24" class="form-control" min="0" step="1">
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>İvme/Yavaşlama Sayısı</label>
                                                <input type="number" id="period-2-acc-decc" class="form-control" min="0" step="1">
                                            </div>
                                            <div class="form-group">
                                                <label>Yüksek İvme/Yavaşlama Sayısı</label>
                                                <input type="number" id="period-2-high-acc-decc" class="form-control" min="0" step="1">
                                            </div>
                                            <div class="form-group">
                                                <label>Yüksek Metabolik Güç (m)</label>
                                                <input type="number" id="period-2-metabolic-power" class="form-control" min="0" step="1">
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Max Sürat (km/h)</label>
                                                <input type="number" id="period-2-max-speed" class="form-control" min="0" step="0.1">
                                            </div>
                                            <div class="form-group">
                                                <label>Sprint 16+ Sayısı</label>
                                                <input type="number" id="period-2-sprint-16" class="form-control" min="0" step="1">
                                            </div>
                                            <div class="form-group">
                                                <label>Sprint 18+ Sayısı</label>
                                                <input type="number" id="period-2-sprint-18" class="form-control" min="0" step="1">
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Sprint 20+ Sayısı</label>
                                                <input type="number" id="period-2-sprint-20" class="form-control" min="0" step="1">
                                            </div>
                                            <div class="form-group">
                                                <label>Sprint 24+ Sayısı</label>
                                                <input type="number" id="period-2-sprint-24-count" class="form-control" min="0" step="1">
                                            </div>
                                            <div class="form-group">
                                                <label>Notlar</label>
                                                <textarea id="period-2-notes" class="form-control" rows="2"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="player-detail-duration">Süre (dk)</label>
                                    <input type="number" id="player-detail-duration" class="form-control" min="0" step="1">
                                </div>
                                <div class="form-group">
                                    <label for="player-detail-distance">Toplam Mesafe (m)</label>
                                    <input type="number" id="player-detail-distance" class="form-control" min="0" step="1">
                                </div>
                                <div class="form-group">
                                    <label for="player-detail-hs16">16+ km/h Mesafe (m)</label>
                                    <input type="number" id="player-detail-hs16" class="form-control" min="0" step="1">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="player-detail-hs18">18+ km/h Mesafe (m)</label>
                                    <input type="number" id="player-detail-hs18" class="form-control" min="0" step="1">
                                </div>
                                <div class="form-group">
                                    <label for="player-detail-hs20">20+ km/h Mesafe (m)</label>
                                    <input type="number" id="player-detail-hs20" class="form-control" min="0" step="1">
                                </div>
                                <div class="form-group">
                                    <label for="player-detail-hs24">24+ km/h Mesafe (m)</label>
                                    <input type="number" id="player-detail-hs24" class="form-control" min="0" step="1">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="player-detail-sprint-count">Sprint Sayısı</label>
                                    <input type="number" id="player-detail-sprint-count" class="form-control" min="0" step="1">
                                </div>
                                <div class="form-group">
                                    <label for="player-detail-acc-count">İvmelenme Sayısı</label>
                                    <input type="number" id="player-detail-acc-count" class="form-control" min="0" step="1">
                                </div>
                                <div class="form-group">
                                    <label for="player-detail-dec-count">Yavaşlama Sayısı</label>
                                    <input type="number" id="player-detail-dec-count" class="form-control" min="0" step="1">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="player-detail-metabolic-power">Metabolik Güç</label>
                                    <input type="number" id="player-detail-metabolic-power" class="form-control" min="0" step="0.1">
                                </div>
                                <div class="form-group">
                                    <label for="player-detail-max-speed">Maksimum Sürat (km/h)</label>
                                    <input type="number" id="player-detail-max-speed" class="form-control" min="0" step="0.1">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="player-detail-sprint-16">16+ km/h Sprint Sayısı</label>
                                    <input type="number" id="player-detail-sprint-16" class="form-control" min="0" step="1">
                                </div>
                                <div class="form-group">
                                    <label for="player-detail-sprint-18">18+ km/h Sprint Sayısı</label>
                                    <input type="number" id="player-detail-sprint-18" class="form-control" min="0" step="1">
                                </div>
                                <div class="form-group">
                                    <label for="player-detail-sprint-20">20+ km/h Sprint Sayısı</label>
                                    <input type="number" id="player-detail-sprint-20" class="form-control" min="0" step="1">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="player-detail-sprint-24">24+ km/h Sprint Sayısı</label>
                                    <input type="number" id="player-detail-sprint-24" class="form-control" min="0" step="1">
                                </div>
                                <div class="form-group" style="flex: 2;">
                                    <label for="player-detail-notes">Notlar</label>
                                    <textarea id="player-detail-notes" class="form-control" rows="3"></textarea>
                                </div>
                            </div>
                            
                            <!-- Custom Metrics Section -->
                            <div class="form-section" style="margin-top: 20px; border-top: 1px solid #eee; padding-top: 15px;">
                                <h5 style="margin-bottom: 15px; color: #2c3e50;">Özel Metrikler</h5>
                                <div id="custom-metrics-container">
                                    <!-- Dynamic custom metric inputs will be added here -->
                                </div>
                                <button type="button" class="btn" onclick="addCustomMetric()" style="background: #3498db; color: white; margin-top: 10px;">
                                    + Özel Metrik Ekle
                                </button>
                            </div>
                            <div style="text-align: center; margin-top: 20px;">
                                <button type="submit" class="btn btn-success">Aktivite Kaydet</button>
                                <button type="button" class="btn" onclick="resetPlayerDetailForm()" style="margin-left: 10px;">Formu Temizle</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Weight History Modal -->
    <div id="weight-history-modal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h3 id="weight-history-title">Kilo Geçmişi</h3>
                <span class="close" onclick="closeWeightHistoryModal()">&times;</span>
            </div>
            <div class="modal-body">
                <!-- Add New Weight Form -->
                <div class="detail-section">
                    <h4>Yeni Kilo Ölçümü Ekle</h4>
                    <form id="weight-form">
                        <div id="weight-modal-alert" class="alert" style="display: none;"></div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="weight-date">Ölçüm Tarihi</label>
                                <input type="date" id="weight-date" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="weight-value">Kilo (kg)</label>
                                <input type="number" id="weight-value" class="form-control" step="0.1" min="40" max="150" required>
                            </div>
                            <div class="form-group">
                                <label for="weight-notes">Notlar</label>
                                <input type="text" id="weight-notes" class="form-control" placeholder="Opsiyonel notlar">
                            </div>
                        </div>
                        <div style="text-align: center; margin-bottom: 20px;">
                            <button type="submit" class="btn btn-success">Ölçüm Kaydet</button>
                        </div>
                    </form>
                </div>
                
                <!-- Weight History Table -->
                <div class="detail-section">
                    <h4>Kilo Geçmişi</h4>
                    <div id="weight-history-table">
                        <div class="loading">Kilo geçmişi yükleniyor...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Injury History Modal -->
    <div id="injury-history-modal" class="modal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h3 id="injury-history-title">Sakatlık Geçmişi</h3>
                <span class="close" onclick="closeInjuryHistoryModal()">&times;</span>
            </div>
            <div class="modal-body">
                <!-- Add New Injury Form -->
                <div class="detail-section">
                    <h4>Yeni Sakatlık Kaydı Ekle</h4>
                    <form id="injury-form">
                        <div id="injury-modal-alert" class="alert" style="display: none;"></div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="injury-date">Sakatlık Tarihi</label>
                                <input type="date" id="injury-date" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="injury-type">Sakatlık Türü</label>
                                <select id="injury-type" class="form-control" required>
                                    <option value="">Seçiniz...</option>
                                    <option value="Kas">Kas Sakatlığı</option>
                                    <option value="Bağ">Bağ Sakatlığı</option>
                                    <option value="Eklem">Eklem Sakatlığı</option>
                                    <option value="Kırık">Kırık</option>
                                    <option value="Çıkık">Çıkık</option>
                                    <option value="Burkulma">Burkulma</option>
                                    <option value="Diğer">Diğer</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="injury-status">Durum</label>
                                <select id="injury-status" class="form-control" required>
                                    <option value="active">Aktif</option>
                                    <option value="recovered">İyileşmiş</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="injury-recovery-date">İyileşme Tarihi</label>
                                <input type="date" id="injury-recovery-date" class="form-control">
                            </div>
                            <div class="form-group" style="grid-column: span 2;">
                                <label for="injury-description">Açıklama</label>
                                <textarea id="injury-description" class="form-control" rows="3" placeholder="Sakatlığın detayları..."></textarea>
                            </div>
                        </div>
                        <div style="text-align: center; margin-bottom: 20px;">
                            <button type="submit" class="btn btn-success">Sakatlık Kaydet</button>
                        </div>
                    </form>
                </div>
                
                <!-- Injury History Table -->
                <div class="detail-section">
                    <h4>Sakatlık Geçmişi</h4>
                    <div id="injury-history-table">
                        <div class="loading">Sakatlık geçmişi yükleniyor...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Activity Edit Modal -->
    <div id="activity-edit-modal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h3 id="activity-edit-title">Aktivite Düzenle</h3>
                <span class="close" onclick="closeActivityEditModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="activity-edit-form">
                    <input type="hidden" id="edit-activity-id">
                    <div id="activity-edit-modal-alert" class="alert" style="display: none;"></div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-activity-date">Tarih</label>
                            <input type="date" id="edit-activity-date" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-activity-time">Saat</label>
                            <input type="time" id="edit-activity-time" class="form-control" placeholder="Opsiyonel">
                        </div>
                        <div class="form-group">
                            <label for="edit-activity-type">Aktivite Türü</label>
                            <select id="edit-activity-type" class="form-control" required>
                                <option value="training">Antrenman</option>
                                <option value="match">Maç</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-duration">Süre (dk)</label>
                            <input type="number" id="edit-duration" class="form-control" min="0" step="1">
                        </div>
                        <div class="form-group">
                            <label for="edit-distance">Toplam Mesafe (m)</label>
                            <input type="number" id="edit-distance" class="form-control" min="0" step="1">
                        </div>
                        <div class="form-group">
                            <label for="edit-hs16">16+ km/h Mesafe (m)</label>
                            <input type="number" id="edit-hs16" class="form-control" min="0" step="1">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-hs18">18+ km/h Mesafe (m)</label>
                            <input type="number" id="edit-hs18" class="form-control" min="0" step="1">
                        </div>
                        <div class="form-group">
                            <label for="edit-hs20">20+ km/h Mesafe (m)</label>
                            <input type="number" id="edit-hs20" class="form-control" min="0" step="1">
                        </div>
                        <div class="form-group">
                            <label for="edit-hs24">24+ km/h Mesafe (m)</label>
                            <input type="number" id="edit-hs24" class="form-control" min="0" step="1">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-sprint-count">Sprint Sayısı</label>
                            <input type="number" id="edit-sprint-count" class="form-control" min="0" step="1">
                        </div>
                        <div class="form-group">
                            <label for="edit-acc-count">İvmelenme Sayısı</label>
                            <input type="number" id="edit-acc-count" class="form-control" min="0" step="1">
                        </div>
                        <div class="form-group">
                            <label for="edit-dec-count">Yavaşlama Sayısı</label>
                            <input type="number" id="edit-dec-count" class="form-control" min="0" step="1">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-metabolic-power">Metabolik Güç</label>
                            <input type="number" id="edit-metabolic-power" class="form-control" min="0" step="0.1">
                        </div>
                        <div class="form-group">
                            <label for="edit-activity-notes">Notlar</label>
                            <textarea id="edit-activity-notes" class="form-control" rows="3"></textarea>
                        </div>
                    </div>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <button type="submit" class="btn btn-success">Aktivite Güncelle</button>
                        <button type="button" class="btn" onclick="closeActivityEditModal()" style="margin-left: 10px;">İptal</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
